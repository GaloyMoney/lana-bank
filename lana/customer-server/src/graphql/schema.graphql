enum AccountStatus {
	INACTIVE
	ACTIVE
}


type Customer {
	id: ID!
	customerId: UUID!
	status: AccountStatus!
	level: KycLevel!
	createdAt: Timestamp!
	email: String!
	telegramId: String!
	depositAccount: DepositAccount!
}

type Deposit {
	id: ID!
	depositId: UUID!
	accountId: UUID!
	amount: UsdCents!
	createdAt: Timestamp!
	reference: String!
}

type DepositAccount {
	id: ID!
	depositAccountId: UUID!
	customerId: UUID!
	createdAt: Timestamp!
	balance: DepositAccountBalance!
	deposits: [Deposit!]!
	withdrawals: [Withdrawal!]!
}

type DepositAccountBalance {
	settled: UsdCents!
	pending: UsdCents!
}




enum KycLevel {
	NOT_KYCED
	BASIC
	ADVANCED
}

type Query {
	me: Subject!
}


type Subject {
	customer: Customer!
}

scalar Timestamp

scalar UUID

scalar UsdCents

type Withdrawal {
	id: ID!
	withdrawalId: UUID!
	accountId: UUID!
	amount: UsdCents!
	createdAt: Timestamp!
	reference: String!
	status: WithdrawalStatus!
}

enum WithdrawalStatus {
	PENDING_APPROVAL
	PENDING_CONFIRMATION
	CONFIRMED
	DENIED
	CANCELLED
}

directive @include(if: Boolean!) on FIELD | FRAGMENT_SPREAD | INLINE_FRAGMENT
directive @skip(if: Boolean!) on FIELD | FRAGMENT_SPREAD | INLINE_FRAGMENT
schema {
	query: Query
}
