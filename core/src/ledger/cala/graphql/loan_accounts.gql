mutation CreateLoanAccounts(
  $collateralAccountId: UUID!
  $collateralAccountCode: String!
  $outstandingAccountId: UUID!
  $outstandingAccountCode: String!
  $interestAccountId: UUID!
  $interestAccountCode: String!
  $loansAccountSetId: UUID!
  $loansControlAccountSetId: UUID!
  $interestRevenueAccountSetId: UUID!
  $interestRevenueControlAccountSetId: UUID!
) {
  collateral: accountCreate(
    input: {
      accountId: $collateralAccountId
      code: $collateralAccountCode
      name: "Loan Collateral"
    }
  ) {
    account {
      accountId
    }
  }
  outstanding: accountCreate(
    input: {
      accountId: $outstandingAccountId
      code: $outstandingAccountCode
      name: "Loan Outstanding"
      normalBalanceType: "DEBIT"
      accountSetIds: [$loansAccountSetId, $loansControlAccountSetId]
    }
  ) {
    account {
      accountId
    }
  }
  interest: accountCreate(
    input: {
      accountId: $interestAccountId
      code: $interestAccountCode
      name: "Loan Interest Revenue"
      accountSetIds: [
        $interestRevenueAccountSetId
        $interestRevenueControlAccountSetId
      ]
    }
  ) {
    account {
      accountId
    }
  }
}
