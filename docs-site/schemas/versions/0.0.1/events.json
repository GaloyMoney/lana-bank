{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "LanaEvent",
  "oneOf": [
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Governance"
        }
      },
      "$ref": "#/$defs/GovernanceEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Access"
        }
      },
      "$ref": "#/$defs/CoreAccessEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Customer"
        }
      },
      "$ref": "#/$defs/CoreCustomerEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Credit"
        }
      },
      "$ref": "#/$defs/CoreCreditEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Deposit"
        }
      },
      "$ref": "#/$defs/CoreDepositEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Custody"
        }
      },
      "$ref": "#/$defs/CoreCustodyEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Report"
        }
      },
      "$ref": "#/$defs/CoreReportEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Price"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "PriceUpdated": {
              "type": "object",
              "properties": {
                "price": {
                  "$ref": "#/$defs/PriceOfOneBTC"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time"
                }
              },
              "required": [
                "price",
                "timestamp"
              ]
            }
          },
          "required": [
            "PriceUpdated"
          ]
        }
      ],
      "required": [
        "module"
      ]
    }
  ],
  "$defs": {
    "CVLPct": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "Infinite"
          ]
        },
        {
          "type": "object",
          "properties": {
            "Finite": {
              "type": [
                "string",
                "number"
              ],
              "pattern": "^-?\\d+(\\.\\d+)?([eE]\\d+)?$"
            }
          },
          "additionalProperties": false,
          "required": [
            "Finite"
          ]
        }
      ]
    },
    "CollateralAction": {
      "type": "string",
      "enum": [
        "Add",
        "Remove"
      ]
    },
    "CollateralizationState": {
      "type": "string",
      "enum": [
        "FullyCollateralized",
        "UnderMarginCallThreshold",
        "UnderLiquidationThreshold",
        "NoCollateral",
        "NoExposure"
      ]
    },
    "CoreAccessEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "email": {
              "type": "string"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "role_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "UserCreated"
            }
          },
          "required": [
            "type",
            "id",
            "email",
            "role_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "UserRemoved"
            }
          },
          "required": [
            "type",
            "id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "role_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "UserUpdatedRole"
            }
          },
          "required": [
            "type",
            "id",
            "role_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "name": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "const": "RoleCreated"
            }
          },
          "required": [
            "type",
            "id",
            "name"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "permission_set_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "RoleGainedPermissionSet"
            }
          },
          "required": [
            "type",
            "id",
            "permission_set_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "permission_set_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "RoleLostPermissionSet"
            }
          },
          "required": [
            "type",
            "id",
            "permission_set_id"
          ]
        }
      ]
    },
    "CoreCreditEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "created_at": {
              "type": "string",
              "format": "date-time"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "terms": {
              "$ref": "#/$defs/TermValues"
            },
            "type": {
              "type": "string",
              "const": "FacilityProposalCreated"
            }
          },
          "required": [
            "type",
            "id",
            "terms",
            "amount",
            "created_at"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "FacilityProposalApproved"
            }
          },
          "required": [
            "type",
            "id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "collateral": {
              "$ref": "#/$defs/Satoshis"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "price": {
              "$ref": "#/$defs/PriceOfOneBTC"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "state": {
              "$ref": "#/$defs/PendingCreditFacilityCollateralizationState"
            },
            "type": {
              "type": "string",
              "const": "PendingCreditFacilityCollateralizationChanged"
            }
          },
          "required": [
            "type",
            "id",
            "state",
            "collateral",
            "price",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "activated_at": {
              "type": "string",
              "format": "date-time"
            },
            "activation_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "FacilityActivated"
            }
          },
          "required": [
            "type",
            "id",
            "activation_tx_id",
            "activated_at",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "completed_at": {
              "type": "string",
              "format": "date-time"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "FacilityCompleted"
            }
          },
          "required": [
            "type",
            "id",
            "completed_at"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "obligation_id": {
              "type": "string",
              "format": "uuid"
            },
            "obligation_type": {
              "$ref": "#/$defs/ObligationType"
            },
            "payment_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "FacilityRepaymentRecorded"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "obligation_id",
            "obligation_type",
            "payment_id",
            "amount",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "abs_diff": {
              "$ref": "#/$defs/Satoshis"
            },
            "action": {
              "$ref": "#/$defs/CollateralAction"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "new_amount": {
              "$ref": "#/$defs/Satoshis"
            },
            "pending_credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "FacilityCollateralUpdated"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "pending_credit_facility_id",
            "ledger_tx_id",
            "new_amount",
            "abs_diff",
            "action",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "collateral": {
              "$ref": "#/$defs/Satoshis"
            },
            "customer_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "outstanding": {
              "$ref": "#/$defs/CreditFacilityReceivable"
            },
            "price": {
              "$ref": "#/$defs/PriceOfOneBTC"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "state": {
              "$ref": "#/$defs/CollateralizationState"
            },
            "type": {
              "type": "string",
              "const": "FacilityCollateralizationChanged"
            }
          },
          "required": [
            "type",
            "id",
            "customer_id",
            "state",
            "recorded_at",
            "effective",
            "collateral",
            "outstanding",
            "price"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "DisbursalSettled"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "ledger_tx_id",
            "amount",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "due_at": {
              "$ref": "#/$defs/EffectiveDate"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "period": {
              "$ref": "#/$defs/InterestPeriod"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "AccrualPosted"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "ledger_tx_id",
            "amount",
            "period",
            "due_at",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "defaulted_at": {
              "anyOf": [
                {
                  "$ref": "#/$defs/EffectiveDate"
                },
                {
                  "type": "null"
                }
              ]
            },
            "due_at": {
              "$ref": "#/$defs/EffectiveDate"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "obligation_type": {
              "$ref": "#/$defs/ObligationType"
            },
            "overdue_at": {
              "anyOf": [
                {
                  "$ref": "#/$defs/EffectiveDate"
                },
                {
                  "type": "null"
                }
              ]
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "ObligationCreated"
            }
          },
          "required": [
            "type",
            "id",
            "obligation_type",
            "credit_facility_id",
            "amount",
            "due_at",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "obligation_type": {
              "$ref": "#/$defs/ObligationType"
            },
            "type": {
              "type": "string",
              "const": "ObligationDue"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id",
            "obligation_type",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ObligationOverdue"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ObligationDefaulted"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ObligationCompleted"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "customer_id": {
              "type": "string",
              "format": "uuid"
            },
            "initially_estimated_to_liquidate": {
              "$ref": "#/$defs/Satoshis"
            },
            "initially_expected_to_receive": {
              "$ref": "#/$defs/UsdCents"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "trigger_price": {
              "$ref": "#/$defs/PriceOfOneBTC"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationInitiated"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "customer_id",
            "trigger_price",
            "initially_expected_to_receive",
            "initially_estimated_to_liquidate"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/Satoshis"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationCollateralSentOut"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "amount",
            "ledger_tx_id",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "facility_payment_holding_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "facility_proceeds_from_liquidation_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "payment_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationProceedsReceived"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "amount",
            "payment_id",
            "facility_payment_holding_account_id",
            "facility_proceeds_from_liquidation_account_id",
            "ledger_tx_id",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "payment_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationCompleted"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "payment_id"
          ]
        }
      ]
    },
    "CoreCustodyEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "changed_at": {
              "type": "string",
              "format": "date-time"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "new_balance": {
              "$ref": "#/$defs/Satoshis"
            },
            "type": {
              "type": "string",
              "const": "WalletBalanceChanged"
            }
          },
          "required": [
            "type",
            "id",
            "new_balance",
            "changed_at"
          ]
        }
      ]
    },
    "CoreCustomerEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "customer_type": {
              "$ref": "#/$defs/CustomerType"
            },
            "email": {
              "type": "string"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "CustomerCreated"
            }
          },
          "required": [
            "type",
            "id",
            "email",
            "customer_type"
          ]
        },
        {
          "type": "object",
          "properties": {
            "customer_type": {
              "$ref": "#/$defs/CustomerType"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "kyc_verification": {
              "$ref": "#/$defs/KycVerification"
            },
            "type": {
              "type": "string",
              "const": "CustomerAccountKycVerificationUpdated"
            }
          },
          "required": [
            "type",
            "id",
            "kyc_verification",
            "customer_type"
          ]
        },
        {
          "type": "object",
          "properties": {
            "email": {
              "type": "string"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "CustomerEmailUpdated"
            }
          },
          "required": [
            "type",
            "id",
            "email"
          ]
        }
      ]
    },
    "CoreDepositEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "account_holder_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "DepositAccountCreated"
            }
          },
          "required": [
            "type",
            "id",
            "account_holder_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "deposit_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "DepositInitialized"
            }
          },
          "required": [
            "type",
            "id",
            "deposit_account_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "deposit_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "WithdrawalConfirmed"
            }
          },
          "required": [
            "type",
            "id",
            "deposit_account_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "deposit_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "DepositReverted"
            }
          },
          "required": [
            "type",
            "id",
            "deposit_account_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "account_holder_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "DepositAccountFrozen"
            }
          },
          "required": [
            "type",
            "id",
            "account_holder_id"
          ]
        }
      ]
    },
    "CoreReportEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ReportCreated"
            }
          },
          "required": [
            "type",
            "id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ReportRunCreated"
            }
          },
          "required": [
            "type",
            "id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ReportRunStateUpdated"
            }
          },
          "required": [
            "type",
            "id"
          ]
        }
      ]
    },
    "CreditFacilityReceivable": {
      "type": "object",
      "properties": {
        "disbursed": {
          "$ref": "#/$defs/UsdCents"
        },
        "interest": {
          "$ref": "#/$defs/UsdCents"
        }
      },
      "required": [
        "disbursed",
        "interest"
      ]
    },
    "CustomerType": {
      "type": "string",
      "enum": [
        "Individual",
        "GovernmentEntity",
        "PrivateCompany",
        "Bank",
        "FinancialInstitution",
        "ForeignAgencyOrSubsidiary",
        "NonDomiciledCompany"
      ]
    },
    "DisbursalPolicy": {
      "type": "string",
      "enum": [
        "SingleDisbursal",
        "MultipleDisbursal"
      ]
    },
    "EffectiveDate": {
      "type": "string",
      "format": "date"
    },
    "FacilityDuration": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "months"
            },
            "value": {
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": [
            "type",
            "value"
          ]
        }
      ]
    },
    "GovernanceEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "approved": {
              "type": "boolean"
            },
            "denied_reason": {
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "process_type": {
              "type": "string"
            },
            "target_ref": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "const": "ApprovalProcessConcluded"
            }
          },
          "required": [
            "type",
            "id",
            "process_type",
            "approved",
            "target_ref"
          ]
        }
      ]
    },
    "InterestInterval": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "end_of_month"
            }
          },
          "required": [
            "type"
          ]
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "end_of_day"
            }
          },
          "required": [
            "type"
          ]
        }
      ]
    },
    "InterestPeriod": {
      "type": "object",
      "properties": {
        "end": {
          "type": "string",
          "format": "date-time"
        },
        "interval": {
          "$ref": "#/$defs/InterestInterval"
        },
        "start": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "interval",
        "start",
        "end"
      ]
    },
    "KycVerification": {
      "type": "string",
      "enum": [
        "pending-verification",
        "verified",
        "rejected"
      ]
    },
    "ObligationDuration": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "days"
            },
            "value": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0
            }
          },
          "required": [
            "type",
            "value"
          ]
        }
      ]
    },
    "ObligationType": {
      "type": "string",
      "enum": [
        "Disbursal",
        "Interest"
      ]
    },
    "PendingCreditFacilityCollateralizationState": {
      "type": "string",
      "enum": [
        "FullyCollateralized",
        "UnderCollateralized"
      ]
    },
    "PriceOfOneBTC": {
      "$ref": "#/$defs/UsdCents"
    },
    "Satoshis": {
      "type": "integer",
      "format": "uint64",
      "minimum": 0
    },
    "TermValues": {
      "type": "object",
      "properties": {
        "accrual_cycle_interval": {
          "$ref": "#/$defs/InterestInterval"
        },
        "accrual_interval": {
          "$ref": "#/$defs/InterestInterval"
        },
        "annual_rate": {
          "type": [
            "string",
            "number"
          ],
          "pattern": "^-?\\d+(\\.\\d+)?([eE]\\d+)?$"
        },
        "disbursal_policy": {
          "$ref": "#/$defs/DisbursalPolicy"
        },
        "duration": {
          "$ref": "#/$defs/FacilityDuration"
        },
        "initial_cvl": {
          "$ref": "#/$defs/CVLPct"
        },
        "interest_due_duration_from_accrual": {
          "$ref": "#/$defs/ObligationDuration"
        },
        "liquidation_cvl": {
          "$ref": "#/$defs/CVLPct"
        },
        "margin_call_cvl": {
          "$ref": "#/$defs/CVLPct"
        },
        "obligation_liquidation_duration_from_due": {
          "anyOf": [
            {
              "$ref": "#/$defs/ObligationDuration"
            },
            {
              "type": "null"
            }
          ]
        },
        "obligation_overdue_duration_from_due": {
          "anyOf": [
            {
              "$ref": "#/$defs/ObligationDuration"
            },
            {
              "type": "null"
            }
          ]
        },
        "one_time_fee_rate": {
          "type": [
            "string",
            "number"
          ],
          "pattern": "^-?\\d+(\\.\\d+)?([eE]\\d+)?$"
        }
      },
      "required": [
        "annual_rate",
        "duration",
        "interest_due_duration_from_accrual",
        "accrual_cycle_interval",
        "accrual_interval",
        "one_time_fee_rate",
        "liquidation_cvl",
        "margin_call_cvl",
        "initial_cvl",
        "disbursal_policy"
      ]
    },
    "UsdCents": {
      "type": "integer",
      "format": "uint64",
      "minimum": 0
    }
  }
}