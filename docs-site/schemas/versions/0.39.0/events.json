{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "LanaEvent",
  "oneOf": [
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Governance"
        }
      },
      "$ref": "#/$defs/GovernanceEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "CoreAccess"
        }
      },
      "$ref": "#/$defs/CoreAccessEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Accounting"
        }
      },
      "$ref": "#/$defs/CoreAccountingEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Customer"
        }
      },
      "$ref": "#/$defs/CoreCustomerEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Credit"
        }
      },
      "$ref": "#/$defs/CoreCreditEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Deposit"
        }
      },
      "$ref": "#/$defs/CoreDepositEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Custody"
        }
      },
      "$ref": "#/$defs/CoreCustodyEvent",
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Report"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "ReportRunCreated": {
              "type": "object",
              "properties": {
                "entity": {
                  "$ref": "#/$defs/PublicReportRun"
                }
              },
              "required": [
                "entity"
              ]
            }
          },
          "required": [
            "ReportRunCreated"
          ]
        },
        {
          "type": "object",
          "properties": {
            "ReportRunStateUpdated": {
              "type": "object",
              "properties": {
                "entity": {
                  "$ref": "#/$defs/PublicReportRun"
                }
              },
              "required": [
                "entity"
              ]
            }
          },
          "required": [
            "ReportRunStateUpdated"
          ]
        }
      ],
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Price"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "PriceUpdated": {
              "type": "object",
              "properties": {
                "price": {
                  "$ref": "#/$defs/PriceOfOneBTC"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time"
                }
              },
              "required": [
                "price",
                "timestamp"
              ]
            }
          },
          "required": [
            "PriceUpdated"
          ]
        }
      ],
      "required": [
        "module"
      ]
    },
    {
      "type": "object",
      "properties": {
        "module": {
          "type": "string",
          "const": "Time"
        }
      },
      "$ref": "#/$defs/CoreTimeEvent",
      "required": [
        "module"
      ]
    }
  ],
  "$defs": {
    "ApprovalProcessStatus": {
      "type": "string",
      "enum": [
        "Approved",
        "Denied",
        "InProgress"
      ]
    },
    "CVLPct": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "Infinite"
          ]
        },
        {
          "type": "object",
          "properties": {
            "Finite": {
              "type": [
                "string",
                "number"
              ],
              "pattern": "^-?\\d+(\\.\\d+)?([eE]\\d+)?$"
            }
          },
          "additionalProperties": false,
          "required": [
            "Finite"
          ]
        }
      ]
    },
    "CollateralDirection": {
      "type": "string",
      "enum": [
        "Add",
        "Remove"
      ]
    },
    "CollateralizationState": {
      "type": "string",
      "enum": [
        "FullyCollateralized",
        "UnderMarginCallThreshold",
        "UnderLiquidationThreshold",
        "NoCollateral",
        "NoExposure"
      ]
    },
    "CoreAccessEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicUser"
            },
            "type": {
              "type": "string",
              "const": "UserCreated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        },
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicRole"
            },
            "type": {
              "type": "string",
              "const": "RoleCreated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        }
      ]
    },
    "CoreAccountingEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "ledger_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "LedgerAccountCsvExportUploaded"
            }
          },
          "required": [
            "type",
            "id",
            "ledger_account_id"
          ]
        }
      ]
    },
    "CoreCreditEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "created_at": {
              "type": "string",
              "format": "date-time"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "terms": {
              "$ref": "#/$defs/TermValues"
            },
            "type": {
              "type": "string",
              "const": "FacilityProposalCreated"
            }
          },
          "required": [
            "type",
            "id",
            "terms",
            "amount",
            "created_at"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "status": {
              "$ref": "#/$defs/CreditFacilityProposalStatus"
            },
            "type": {
              "type": "string",
              "const": "FacilityProposalConcluded"
            }
          },
          "required": [
            "type",
            "id",
            "status"
          ]
        },
        {
          "type": "object",
          "properties": {
            "collateral": {
              "$ref": "#/$defs/Satoshis"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "price": {
              "$ref": "#/$defs/PriceOfOneBTC"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "state": {
              "$ref": "#/$defs/PendingCreditFacilityCollateralizationState"
            },
            "type": {
              "type": "string",
              "const": "PendingCreditFacilityCollateralizationChanged"
            }
          },
          "required": [
            "type",
            "id",
            "state",
            "collateral",
            "price",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "status": {
              "$ref": "#/$defs/PendingCreditFacilityStatus"
            },
            "type": {
              "type": "string",
              "const": "PendingCreditFacilityCompleted"
            }
          },
          "required": [
            "type",
            "id",
            "status",
            "recorded_at"
          ]
        },
        {
          "type": "object",
          "properties": {
            "activated_at": {
              "type": "string",
              "format": "date-time"
            },
            "activation_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "FacilityActivated"
            }
          },
          "required": [
            "type",
            "id",
            "activation_tx_id",
            "activated_at",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "completed_at": {
              "type": "string",
              "format": "date-time"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "FacilityCompleted"
            }
          },
          "required": [
            "type",
            "id",
            "completed_at"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "payment_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "FacilityPaymentReceived"
            }
          },
          "required": [
            "type",
            "payment_id",
            "credit_facility_id",
            "amount",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "allocation_id": {
              "type": "string",
              "format": "uuid"
            },
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "obligation_id": {
              "type": "string",
              "format": "uuid"
            },
            "obligation_type": {
              "$ref": "#/$defs/ObligationType"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "FacilityPaymentAllocated"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "obligation_id",
            "obligation_type",
            "allocation_id",
            "amount",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "abs_diff": {
              "$ref": "#/$defs/Satoshis"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "direction": {
              "$ref": "#/$defs/CollateralDirection"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "new_amount": {
              "$ref": "#/$defs/Satoshis"
            },
            "pending_credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "FacilityCollateralUpdated"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "pending_credit_facility_id",
            "ledger_tx_id",
            "new_amount",
            "abs_diff",
            "direction",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "collateral": {
              "$ref": "#/$defs/Satoshis"
            },
            "customer_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "outstanding": {
              "$ref": "#/$defs/CreditFacilityReceivable"
            },
            "price": {
              "$ref": "#/$defs/PriceOfOneBTC"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "state": {
              "$ref": "#/$defs/CollateralizationState"
            },
            "type": {
              "type": "string",
              "const": "FacilityCollateralizationChanged"
            }
          },
          "required": [
            "type",
            "id",
            "customer_id",
            "state",
            "recorded_at",
            "effective",
            "collateral",
            "outstanding",
            "price"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "DisbursalSettled"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "ledger_tx_id",
            "amount",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "due_at": {
              "$ref": "#/$defs/EffectiveDate"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "period": {
              "$ref": "#/$defs/InterestPeriod"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "AccrualPosted"
            }
          },
          "required": [
            "type",
            "credit_facility_id",
            "ledger_tx_id",
            "amount",
            "period",
            "due_at",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "defaulted_at": {
              "anyOf": [
                {
                  "$ref": "#/$defs/EffectiveDate"
                },
                {
                  "type": "null"
                }
              ]
            },
            "due_at": {
              "$ref": "#/$defs/EffectiveDate"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "obligation_type": {
              "$ref": "#/$defs/ObligationType"
            },
            "overdue_at": {
              "anyOf": [
                {
                  "$ref": "#/$defs/EffectiveDate"
                },
                {
                  "type": "null"
                }
              ]
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "ObligationCreated"
            }
          },
          "required": [
            "type",
            "id",
            "obligation_type",
            "credit_facility_id",
            "amount",
            "due_at",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "obligation_type": {
              "$ref": "#/$defs/ObligationType"
            },
            "type": {
              "type": "string",
              "const": "ObligationDue"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id",
            "obligation_type",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ObligationOverdue"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ObligationDefaulted"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id",
            "amount"
          ]
        },
        {
          "type": "object",
          "properties": {
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "ObligationCompleted"
            }
          },
          "required": [
            "type",
            "id",
            "credit_facility_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "collateral_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "collateral_id": {
              "type": "string",
              "format": "uuid"
            },
            "collateral_in_liquidation_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "customer_id": {
              "type": "string",
              "format": "uuid"
            },
            "initially_estimated_to_liquidate": {
              "$ref": "#/$defs/Satoshis"
            },
            "initially_expected_to_receive": {
              "$ref": "#/$defs/UsdCents"
            },
            "liquidated_collateral_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "payment_holding_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "proceeds_from_liquidation_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "trigger_price": {
              "$ref": "#/$defs/PriceOfOneBTC"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationInitiated"
            },
            "uncovered_outstanding_account_id": {
              "type": "string",
              "format": "uuid"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "collateral_id",
            "customer_id",
            "trigger_price",
            "initially_expected_to_receive",
            "initially_estimated_to_liquidate",
            "collateral_account_id",
            "collateral_in_liquidation_account_id",
            "liquidated_collateral_account_id",
            "proceeds_from_liquidation_account_id",
            "payment_holding_account_id",
            "uncovered_outstanding_account_id"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/Satoshis"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationCollateralSentOut"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "amount",
            "ledger_tx_id",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "amount": {
              "$ref": "#/$defs/UsdCents"
            },
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "effective": {
              "type": "string",
              "format": "date"
            },
            "facility_payment_holding_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "facility_proceeds_from_liquidation_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "facility_uncovered_outstanding_account_id": {
              "type": "string",
              "format": "uuid"
            },
            "ledger_tx_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "payment_id": {
              "type": "string",
              "format": "uuid"
            },
            "recorded_at": {
              "type": "string",
              "format": "date-time"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationProceedsReceived"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id",
            "amount",
            "payment_id",
            "facility_payment_holding_account_id",
            "facility_proceeds_from_liquidation_account_id",
            "facility_uncovered_outstanding_account_id",
            "ledger_tx_id",
            "recorded_at",
            "effective"
          ]
        },
        {
          "type": "object",
          "properties": {
            "credit_facility_id": {
              "type": "string",
              "format": "uuid"
            },
            "liquidation_id": {
              "type": "string",
              "format": "uuid"
            },
            "type": {
              "type": "string",
              "const": "PartialLiquidationCompleted"
            }
          },
          "required": [
            "type",
            "liquidation_id",
            "credit_facility_id"
          ]
        }
      ]
    },
    "CoreCustodyEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicWallet"
            },
            "type": {
              "type": "string",
              "const": "WalletBalanceUpdated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        }
      ]
    },
    "CoreCustomerEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicCustomer"
            },
            "type": {
              "type": "string",
              "const": "CustomerCreated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        },
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicCustomer"
            },
            "type": {
              "type": "string",
              "const": "CustomerKycUpdated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        },
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicCustomer"
            },
            "type": {
              "type": "string",
              "const": "CustomerEmailUpdated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        }
      ]
    },
    "CoreDepositEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicDepositAccount"
            },
            "type": {
              "type": "string",
              "const": "DepositAccountCreated"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        },
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicDeposit"
            },
            "type": {
              "type": "string",
              "const": "DepositInitialized"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        },
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicWithdrawal"
            },
            "type": {
              "type": "string",
              "const": "WithdrawalConfirmed"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        },
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicDeposit"
            },
            "type": {
              "type": "string",
              "const": "DepositReverted"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        }
      ]
    },
    "CoreTimeEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "closing_time": {
              "type": "string",
              "format": "date-time"
            },
            "day": {
              "type": "string",
              "format": "date"
            },
            "timezone": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "const": "EndOfDay"
            }
          },
          "required": [
            "type",
            "day",
            "closing_time",
            "timezone"
          ]
        }
      ]
    },
    "CreditFacilityProposalStatus": {
      "type": "string",
      "enum": [
        "PendingCustomerApproval",
        "CustomerDenied",
        "PendingApproval",
        "Approved",
        "Denied"
      ]
    },
    "CreditFacilityReceivable": {
      "type": "object",
      "properties": {
        "disbursed": {
          "$ref": "#/$defs/UsdCents"
        },
        "interest": {
          "$ref": "#/$defs/UsdCents"
        }
      },
      "required": [
        "disbursed",
        "interest"
      ]
    },
    "CustomerType": {
      "type": "string",
      "enum": [
        "Individual",
        "GovernmentEntity",
        "PrivateCompany",
        "Bank",
        "FinancialInstitution",
        "ForeignAgencyOrSubsidiary",
        "NonDomiciledCompany"
      ]
    },
    "DisbursalPolicy": {
      "type": "string",
      "enum": [
        "SingleDisbursal",
        "MultipleDisbursal"
      ]
    },
    "EffectiveDate": {
      "type": "string",
      "format": "date"
    },
    "FacilityDuration": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "months"
            },
            "value": {
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": [
            "type",
            "value"
          ]
        }
      ]
    },
    "GovernanceEvent": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "entity": {
              "$ref": "#/$defs/PublicApprovalProcess"
            },
            "type": {
              "type": "string",
              "const": "ApprovalProcessConcluded"
            }
          },
          "required": [
            "type",
            "entity"
          ]
        }
      ]
    },
    "InterestInterval": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "end_of_month"
            }
          },
          "required": [
            "type"
          ]
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "end_of_day"
            }
          },
          "required": [
            "type"
          ]
        }
      ]
    },
    "InterestPeriod": {
      "type": "object",
      "properties": {
        "end": {
          "type": "string",
          "format": "date-time"
        },
        "interval": {
          "$ref": "#/$defs/InterestInterval"
        },
        "start": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "interval",
        "start",
        "end"
      ]
    },
    "KycVerification": {
      "type": "string",
      "enum": [
        "pending-verification",
        "verified",
        "rejected"
      ]
    },
    "ObligationDuration": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "days"
            },
            "value": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0
            }
          },
          "required": [
            "type",
            "value"
          ]
        }
      ]
    },
    "ObligationType": {
      "type": "string",
      "enum": [
        "Disbursal",
        "Interest"
      ]
    },
    "PendingCreditFacilityCollateralizationState": {
      "type": "string",
      "enum": [
        "FullyCollateralized",
        "UnderCollateralized"
      ]
    },
    "PendingCreditFacilityStatus": {
      "type": "string",
      "enum": [
        "PendingCollateralization",
        "Completed"
      ]
    },
    "PriceOfOneBTC": {
      "$ref": "#/$defs/UsdCents"
    },
    "PublicApprovalProcess": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "process_type": {
          "type": "string"
        },
        "status": {
          "$ref": "#/$defs/ApprovalProcessStatus"
        },
        "target_ref": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "process_type",
        "status",
        "target_ref"
      ]
    },
    "PublicCustomer": {
      "type": "object",
      "properties": {
        "customer_type": {
          "$ref": "#/$defs/CustomerType"
        },
        "email": {
          "type": "string"
        },
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "kyc_verification": {
          "$ref": "#/$defs/KycVerification"
        }
      },
      "required": [
        "id",
        "email",
        "customer_type",
        "kyc_verification"
      ]
    },
    "PublicDeposit": {
      "type": "object",
      "properties": {
        "amount": {
          "$ref": "#/$defs/UsdCents"
        },
        "deposit_account_id": {
          "type": "string",
          "format": "uuid"
        },
        "id": {
          "type": "string",
          "format": "uuid"
        }
      },
      "required": [
        "id",
        "deposit_account_id",
        "amount"
      ]
    },
    "PublicDepositAccount": {
      "type": "object",
      "properties": {
        "account_holder_id": {
          "type": "string",
          "format": "uuid"
        },
        "id": {
          "type": "string",
          "format": "uuid"
        }
      },
      "required": [
        "id",
        "account_holder_id"
      ]
    },
    "PublicReportRun": {
      "type": "object",
      "properties": {
        "external_id": {
          "type": "string"
        },
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "run_type": {
          "$ref": "#/$defs/ReportRunType"
        },
        "state": {
          "$ref": "#/$defs/ReportRunState"
        }
      },
      "required": [
        "id",
        "external_id",
        "state",
        "run_type"
      ]
    },
    "PublicRole": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "PublicUser": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "role_id": {
          "type": "string",
          "format": "uuid"
        }
      },
      "required": [
        "id",
        "email",
        "role_id"
      ]
    },
    "PublicWallet": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "balance": {
          "anyOf": [
            {
              "$ref": "#/$defs/WalletBalance"
            },
            {
              "type": "null"
            }
          ]
        },
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "network": {
          "$ref": "#/$defs/WalletNetwork"
        }
      },
      "required": [
        "id",
        "address",
        "network"
      ]
    },
    "PublicWithdrawal": {
      "type": "object",
      "properties": {
        "amount": {
          "$ref": "#/$defs/UsdCents"
        },
        "deposit_account_id": {
          "type": "string",
          "format": "uuid"
        },
        "id": {
          "type": "string",
          "format": "uuid"
        }
      },
      "required": [
        "id",
        "deposit_account_id",
        "amount"
      ]
    },
    "ReportRunState": {
      "type": "string",
      "enum": [
        "queued",
        "running",
        "success",
        "failed"
      ]
    },
    "ReportRunType": {
      "type": "string",
      "enum": [
        "scheduled",
        "manual"
      ]
    },
    "Satoshis": {
      "type": "integer",
      "format": "uint64",
      "minimum": 0
    },
    "TermValues": {
      "type": "object",
      "properties": {
        "accrual_cycle_interval": {
          "$ref": "#/$defs/InterestInterval"
        },
        "accrual_interval": {
          "$ref": "#/$defs/InterestInterval"
        },
        "annual_rate": {
          "type": [
            "string",
            "number"
          ],
          "pattern": "^-?\\d+(\\.\\d+)?([eE]\\d+)?$"
        },
        "disbursal_policy": {
          "$ref": "#/$defs/DisbursalPolicy"
        },
        "duration": {
          "$ref": "#/$defs/FacilityDuration"
        },
        "initial_cvl": {
          "$ref": "#/$defs/CVLPct"
        },
        "interest_due_duration_from_accrual": {
          "$ref": "#/$defs/ObligationDuration"
        },
        "liquidation_cvl": {
          "$ref": "#/$defs/CVLPct"
        },
        "margin_call_cvl": {
          "$ref": "#/$defs/CVLPct"
        },
        "obligation_liquidation_duration_from_due": {
          "anyOf": [
            {
              "$ref": "#/$defs/ObligationDuration"
            },
            {
              "type": "null"
            }
          ]
        },
        "obligation_overdue_duration_from_due": {
          "anyOf": [
            {
              "$ref": "#/$defs/ObligationDuration"
            },
            {
              "type": "null"
            }
          ]
        },
        "one_time_fee_rate": {
          "type": [
            "string",
            "number"
          ],
          "pattern": "^-?\\d+(\\.\\d+)?([eE]\\d+)?$"
        }
      },
      "required": [
        "annual_rate",
        "duration",
        "interest_due_duration_from_accrual",
        "accrual_cycle_interval",
        "accrual_interval",
        "one_time_fee_rate",
        "liquidation_cvl",
        "margin_call_cvl",
        "initial_cvl",
        "disbursal_policy"
      ]
    },
    "UsdCents": {
      "type": "integer",
      "format": "uint64",
      "minimum": 0
    },
    "WalletBalance": {
      "type": "object",
      "properties": {
        "amount": {
          "$ref": "#/$defs/Satoshis"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "amount",
        "updated_at"
      ]
    },
    "WalletNetwork": {
      "type": "string",
      "enum": [
        "Testnet3",
        "Testnet4",
        "Mainnet"
      ]
    }
  }
}